#  位运算总结

## 取出其中一位的值

```java
(value >> i) & 1
```

## 根据二进制表示赋值一个数

```java
int res = 0;
int[] binaryValue;
for (int i = 0; i < end; i++) {
  if (binaryValue[i]) > 0 {
    res += binaryValue[i] << i;
  }
}
return res;
```

## 除以2的指数倍

```java
value >> i (i = log2N);
```

## 去掉二进制数最右边的1

```java
// 1111 1100
// 1111 1011
n & (n-1)
```

## 求余数

以下公式有限制

> a % b == a & (b-1)，当且仅当 b 是 2 的指数时才成立
>
> 以 a = 10,  b = 8为例
>
> a: 			  0000 1010
>
> b: 			  0000 1000
>
> a % b = 2 : 0000 0010
>
> 
>
> a & (b-1):    0000 1010
>
> ​					0000 0111
>
> ​					0000 0010

```java
a & (b-1)
// 求 a 对 2 对余数：
a & 1;
```

## 检查 a 的第 b 位是否为1

```java
// core 这里需要注意 * / % 优于 + - 优于 << >> >>> 优于& 优于 ^ 优于 |
((a >> b & 1) == 0)
((a & 1 << b) == 1 << b)
```

## 将 a 的第 b 位设置为1

```java
// 这里有两种写法
// 1. 当 a 的第 b 位为0时
a += 1 << b;
// 2. 通用写法
a |= 1 << b
```